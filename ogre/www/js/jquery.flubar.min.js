(function(b){b.flubar={};b.flubar.options={position:"top",timer:4E3,close_onclick:!0,close_ontimer:!0,show_timer:500,hide_timer:750,show_method:"slide",type:"notification"};b.flubar.show=function(b,e){try{return f.show(b,e||{})}catch(a){var c="Flubar error: "+a;typeof console!="undefined"&&console.error?console.error(c,e):alert(c)}};var f={self:this,wrapper:'<div class="flubar" aria-live="polite" aria-channel="notify"></div>',stackMessage:null,stackTimeout:null,_is_init:!1,show:function(d,e){if(!this._is_init)this._init(), this._is_init=!0;var a=b.extend({},b.flubar.options,e),c=b(this.wrapper).html(d).hide();a.type&&typeof a.type==="string"&&c.addClass(a.type);var g=a.position=="bottom"?c.appendTo("body").addClass("bottom"):c.prependTo("body").addClass("top");a.show_method=="slide"?g.slideDown(a.show_timer):g.fadeIn(a.show_timer);if(!self.stackMessage)self.stackMessage=[];self.stackMessage.push(c);if(a.close_ontimer==!0){c=window.setTimeout(function(){f.hide(a.hide_timer)},a.timer);if(!self.stackTimeout)self.stackTimeout= [];self.stackTimeout.push(c)}},hide:function(d){d||(d=0);self.stackMessage.shift().fadeOut(d,function(){b(this).remove();clearTimeout(self.stackTimeout.shift())})},_init:function(){b.flubar.options.close_onclick==!0&&b(".flubar").live("click",function(){f.hide()})}}})(jQuery);